# 02.장고의 기본 요소 익히기
------------
## 02-1 주소와 화면을 연결하는 URL과 뷰
### 프로젝트 시작&앱 생성 및 확인
* 프로젝트 시작
```
django-admin startproject (프로젝트이름)
```
   
* 앱 생성
```
django-admin startapp (앱이름)
```

* 개발 서버 구동
```
python manage.py runserver
```

### 장고 개발 흐름 정리하기
> 웹 브라우저 주소창에 특정 페이지 url요청 -> urls.py에서 views의 함수 호출 -> views.py의 함수를 실행하여 실행 결과를 웹 브라우저에 전달   
> 웹 브라우저 -> urls.py -> views.py -> 웹브라우저   
   
   
### URL 분리하기
1. 메인 프로젝트 urls.py
```
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('pybo/', include('pybo.urls')),
]
```
2. 해당 앱 urls.py
```
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index),
]
```
------------
## 02-2 데이터를 관리하는 모델
### migrate와 테이블 알아보기
* 테이블 생성
> 테이블 : 데이터베이스에서 데이터를 저장하기 위한 데이터 집합의 모음
```
python manage.py migrate
```
   
* 장고의 ORM
> 쿼리문 : 데이터베이스의 테이블 또는 테이블 데이터의 내용을 생성, 수정, 삭제 시 사용하는 데이터베이스 질의(문법)이다.
> ORM(Object Relatinal Mapping) : 파이써능로 데이터 작업을 할 수 있게 해주는 기능
> ORM의 장점 : 쿼리문을 자동으로 생성하여 통일성 보장, 잘못 작성할 가능성 사라짐, 쿼리문 수정 작업 사라짐
   

### 모델 만들기
1. 모델 속성 구상하기   
속성명 - 설명으로 모델을 설계한다.
2. models.py에 모델 작성하기
```
from django.db import models

class Question(models.Model):
    subject = models.CharField(max_length=200)
    content = models.TextField()
    create_date = models.DateTimeField()

class Answer(models.Model):
    question = models.ForeignKey(Question, on_delete=models.CASCADE)
    content = models.TextField()
    create_date = models.DateTimeField()
```
> * CharField(max_length=) : 글자 수를 제한하고 싶은 데이터
> * TextFiled() : 글자 수 제한이 없는 데이터
> * DateTimeField() : 날짜/시간 관련 속성
> * ForeignKey() : 다른 모델과의 연결
> * on_delete=models.CASCADE : 연결된 모델이 삭제되면 해당 모델도 삭제한다.   
   
> 장고 속성 공식 문서 주소 : https://docs.djangoproject.com/ko/4.0/ref/models/fields/#model-field-types    

3. settings.py에 앱 등록
테이블 생성을 위해 settings.py에 INSTALLED_APPS항목에 앱을 추가한다.
```
INSTALLED_APPS = [
    'django.contrib.admin',
    ...
    'pybo',
]
```

4. 테이블 작업 파일 생성 
```
python manage.py makemigrations
```

5. 테이블 생성
```
python manage.py migrate
```

6. 테이블 생성 확인
앱 이름/migrations/0001_initial.py생성   
DB Browser fro SQLite를 이용하여 테이블 생성 확인
